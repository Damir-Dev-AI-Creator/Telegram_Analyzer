# 🤖 Telegram Bot для Ysell Analyzer

Есть **ДВА варианта** Telegram бота для использования Ysell Analyzer:

## 📊 Сравнение вариантов

| Характеристика | Простой бот (Кнопки) | Mini App (Веб-интерфейс) |
|----------------|----------------------|---------------------------|
| **Сложность setup** | ⭐ Очень простая | ⭐⭐⭐ Сложная |
| **Время установки** | 2 минуты | 15-30 минут |
| **Требуется сервер** | ❌ Нет | ✅ Да (или ngrok) |
| **Требуется HTTPS** | ❌ Нет | ✅ Да |
| **Требуется домен** | ❌ Нет | ✅ Да (для продакшена) |
| **Работает локально** | ✅ Да | ❌ Нет |
| **Можно скомпилировать в .exe** | ✅ Да | ❌ Нет |
| **UI интерфейс** | Кнопки Telegram | Современный веб-интерфейс |
| **Навигация** | Inline кнопки | Табы и формы |
| **Загрузка файлов** | Документы Telegram | Drag-and-drop |
| **Функционал** | Полный | Полный |

---

## 🎯 Какой вариант выбрать?

### ✅ Выбирайте **Простой бот** если:

- ❤️ Хотите **простоту и быстроту**
- 💻 Планируете использовать **локально** на своем компьютере
- 📦 Хотите **распространять как .exe файл**
- ⏱️ Нужна **установка за 2 минуты**
- 🚫 Не хотите возиться с **серверами и доменами**
- 👤 Используете для **себя или небольшой группы**

**Директория:** `telegram_bot_simple/`
**Документация:** [telegram_bot_simple/README.md](telegram_bot_simple/README.md)
**Быстрый старт:** [telegram_bot_simple/QUICKSTART.md](telegram_bot_simple/QUICKSTART.md)

### ✅ Выбирайте **Mini App** если:

- 🌐 Нужен **красивый веб-интерфейс**
- 👥 Планируете **публичный сервис** для многих пользователей
- ☁️ Готовы настроить **VPS/облачный хостинг**
- 🔒 Есть **домен с SSL сертификатом**
- 📱 Хотите **современный UX** как в веб-приложении
- ⚡ Готовы потратить **время на настройку**

**Директория:** `telegram_bot/`
**Документация:** [telegram_bot/README.md](telegram_bot/README.md)
**Быстрый старт:** [telegram_bot/QUICKSTART_RU.md](telegram_bot/QUICKSTART_RU.md)
**HTTPS Setup:** [telegram_bot/HTTPS_SETUP.md](telegram_bot/HTTPS_SETUP.md)

---

## 🚀 Быстрый старт

### Вариант 1: Простой бот (Рекомендуется для начала)

```bash
# 1. Создайте бота в @BotFather (получите токен)

# 2. Установите зависимости
cd telegram_bot_simple
pip install -r requirements.txt

# 3. Запустите
python bot_simple.py
# При первом запуске введите токен

# 4. Готово! Найдите бота в Telegram и отправьте /start
```

**Полная инструкция:** [telegram_bot_simple/QUICKSTART.md](telegram_bot_simple/QUICKSTART.md)

### Вариант 2: Mini App

```bash
# 1. Создайте бота в @BotFather

# 2. Установите зависимости (backend)
cd telegram_bot
pip install -r requirements.txt

# 3. Установите зависимости (frontend)
cd frontend
npm install
cd ..

# 4. Настройте ngrok для HTTPS
# Следуйте инструкции: telegram_bot/HTTPS_SETUP.md

# 5. Запустите (3 терминала)
# Terminal 1: python -m uvicorn backend.api:app --port 8000
# Terminal 2: cd frontend && npm run dev
# Terminal 3: python bot.py

# 6. Настройте Mini App в @BotFather с ngrok URL
```

**Полная инструкция:** [telegram_bot/QUICKSTART_RU.md](telegram_bot/QUICKSTART_RU.md)

---

## 📸 Скриншоты

### Простой бот (Кнопки):
```
┌─────────────────────────────┐
│   Ysell Analyzer            │
├─────────────────────────────┤
│ 🏠 Главное меню            │
│                             │
│ Выберите действие:          │
│                             │
│ [📱 Экспорт чата]           │
│ [🤖 Анализ CSV]             │
│ [⚙️ Настройки]              │
└─────────────────────────────┘
```

### Mini App (Веб-интерфейс):
```
┌─────────────────────────────┐
│ Ysell Analyzer      User ▼  │
├─────────────────────────────┤
│ 📱 Экспорт | 🤖 Анализ | ⚙️  │
├─────────────────────────────┤
│                             │
│  Chat identifier:           │
│  [@username or ID]          │
│                             │
│  Date from: [YYYY-MM-DD]    │
│  Date to:   [YYYY-MM-DD]    │
│                             │
│  [🚀 Start Export]          │
│                             │
└─────────────────────────────┘
```

---

## 🔧 Функционал

Оба варианта предоставляют **одинаковый функционал**:

### 📱 Экспорт Telegram чатов
- Полная история сообщений
- Фильтрация по датам
- Экспорт в CSV формат
- Поддержка публичных и приватных чатов

### 🤖 Анализ с Claude AI
- Анализ переписок с Claude
- Генерация DOCX отчетов
- Ключевые темы и инсайты
- Профессиональное форматирование

### ⚙️ Настройки
- Индивидуальные API ключи для каждого пользователя
- Telegram API (api_id, api_hash, phone)
- Claude API (api_key)
- Шифрование всех ключей

---

## 🔒 Безопасность

Оба варианта обеспечивают **одинаковый уровень безопасности**:

- ✅ Шифрование всех API ключей (Fernet)
- ✅ Локальное хранение данных
- ✅ Изоляция данных между пользователями
- ✅ Безопасное управление сессиями

---

## 📦 Компиляция в .exe (только Простой бот)

Простой бот можно скомпилировать в standalone исполняемый файл:

```bash
cd telegram_bot_simple

# Установите PyInstaller
pip install pyinstaller

# Запустите сборку
python build.py

# Готовый файл будет в dist/
```

**Результат:**
- Windows: `YsellAnalyzer.exe` (~50 MB)
- Linux: `ysell-analyzer`
- macOS: `YsellAnalyzer.app`

Файл можно распространять - не требует установки Python!

---

## 💡 Рекомендации

### Для личного использования:
→ **Простой бот** - быстро, просто, локально

### Для небольшой команды (2-10 человек):
→ **Простой бот** на VPS - установите на сервер, раздайте ссылку

### Для публичного сервиса (10+ пользователей):
→ **Mini App** с полноценным хостингом

### Для распространения через GitHub:
→ **Простой бот** + компиляция в .exe

---

## 🆘 Помощь

### Простой бот:
- [README](telegram_bot_simple/README.md) - полная документация
- [QUICKSTART](telegram_bot_simple/QUICKSTART.md) - быстрый старт
- Troubleshooting в README

### Mini App:
- [README](telegram_bot/README.md) - полная документация
- [QUICKSTART_RU](telegram_bot/QUICKSTART_RU.md) - быстрый старт
- [HTTPS_SETUP](telegram_bot/HTTPS_SETUP.md) - настройка HTTPS
- Troubleshooting в README

### Общие вопросы:
- Создайте Issue на GitHub
- Проверьте логи в консоли
- Используйте `/help` в боте

---

## 📈 Развитие проекта

### Roadmap для Простого бота:
- [ ] Поддержка пользовательских промптов для анализа
- [ ] Настройка модели Claude (Opus/Sonnet/Haiku)
- [ ] История экспортов и анализов
- [ ] Групповое использование с админ-панелью

### Roadmap для Mini App:
- [ ] WebSocket для real-time обновлений
- [ ] PostgreSQL вместо SQLite
- [ ] Расширенная статистика
- [ ] Telegram Payments интеграция

---

## 📄 Лицензия

MIT License - см. [LICENSE](LICENSE)

---

**Выберите свой вариант и начните использовать Ysell Analyzer в Telegram! 🚀**
