# üîß –†–µ—à–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ "Multiple bot instances"

## ‚ùå –û—à–∏–±–∫–∞

```
TelegramConflictError: Conflict: terminated by other getUpdates request;
make sure that only one bot instance is running
```

## üéØ –ü—Ä–∏—á–∏–Ω–∞

–ó–∞–ø—É—â–µ–Ω–æ **–Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –±–æ—Ç–∞** —Å –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ `BOT_TOKEN`. Telegram API –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ç–æ.

## üîç –ì–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã –±–æ—Ç—ã?

1. **Railway** (railway.app)
2. **Render** (render.com)
3. **–õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä** (–∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é)
4. **–ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤** –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Railway (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ –≤—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ Render:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **Telegram_Analyzer**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å
4. **Settings** ‚Üí **Danger Zone**
5. –ù–∞–∂–º–∏—Ç–µ **"Pause Service"** –∏–ª–∏ **"Delete Service"**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Render

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Railway:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://dashboard.render.com
2. –ù–∞–π–¥–∏—Ç–µ **telegram-analyzer-bot**
3. –ù–∞–∂–º–∏—Ç–µ **"Suspend"** (–ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
4. –ò–ª–∏ **"Delete"** (—É–¥–∞–ª–∏—Ç—å)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

–ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:

```bash
# macOS/Linux
ps aux | grep "main.py --bot"
kill <PID>

# Windows
tasklist | findstr python
taskkill /PID <PID> /F
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–µ–ø–ª–æ—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

**Railway:**
```toml
# railway.toml
[deploy]
numReplicas = 1  # –¢–û–õ–¨–ö–û –û–î–ò–ù –∏–Ω—Å—Ç–∞–Ω—Å
```

**Render:**
```yaml
# render.yaml
plan: free  # Free –ø–ª–∞–Ω = 1 –∏–Ω—Å—Ç–∞–Ω—Å
```

---

## üîÑ –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-20 —Å–µ–∫—É–Ω–¥** - Telegram –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ç–æ–∫–µ–Ω
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è "–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!"
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ** - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É –≤ Telegram

---

## üõ°Ô∏è –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¢–û–õ–¨–ö–û –û–î–ò–ù –¥–µ–ø–ª–æ–π:

‚úÖ **–•–æ—Ä–æ—à–æ:**
- Railway ‚ûï (–æ–¥–∏–Ω –∏–Ω—Å—Ç–∞–Ω—Å)
- Render ‚ûï (–æ–¥–∏–Ω –∏–Ω—Å—Ç–∞–Ω—Å)

‚ùå **–ü–ª–æ—Ö–æ:**
- Railway ‚ûï + Render ‚ûï (–∫–æ–Ω—Ñ–ª–∏–∫—Ç!)
- –õ–æ–∫–∞–ª—å–Ω–æ ‚ûï + Railway ‚ûï (–∫–æ–Ω—Ñ–ª–∏–∫—Ç!)
- Railway ‚ûï‚ûï (2 –∏–Ω—Å—Ç–∞–Ω—Å–∞ = –∫–æ–Ω—Ñ–ª–∏–∫—Ç!)

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞: `/newbot` –≤ @BotFather
2. Production –±–æ—Ç ‚Üí Railway
3. Test –±–æ—Ç ‚Üí Render –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

### Railway:

```bash
railway status
railway logs
```

### Render:

1. Dashboard ‚Üí Logs
2. –ò—â–∏—Ç–µ "Run polling for bot"
3. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ - –±–æ—Ç –∑–∞–ø—É—â–µ–Ω

### –õ–æ–∫–∞–ª—å–Ω–æ:

```bash
# macOS/Linux
ps aux | grep "main.py --bot"

# Windows
tasklist | findstr "main.py"
```

---

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã** (Railway, Render, –ª–æ–∫–∞–ª—å–Ω–æ)
2. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1 –º–∏–Ω—É—Ç—É**
3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω** —Å–µ—Ä–≤–∏—Å
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:

1. –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω —É @BotFather:
   ```
   /mybots ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí API Token ‚Üí Regenerate
   ```
2. –û–±–Ω–æ–≤–∏—Ç–µ `BOT_TOKEN` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

---

## üí° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ v0.2.0+, –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

```
‚ùå –ö–û–ù–§–õ–ò–ö–¢: –î—Ä—É–≥–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ —É–∂–µ –∑–∞–ø—É—â–µ–Ω!
–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ Railway –∏ Render –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
2. –ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
3. –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ –æ–±–ª–∞–∫–µ

–†–µ—à–µ–Ω–∏–µ:
- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –¥–µ–ø–ª–æ–π (Railway –ò–õ–ò Render)
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç gracefully –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

---

## ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫

–ü–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
‚úÖ FSM storage –Ω–∞—Å—Ç—Ä–æ–µ–Ω
‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!
Run polling for bot @your_bot id=123456789
```

**–ë–µ–∑ –æ—à–∏–±–æ–∫ "Conflict"!** üéâ
