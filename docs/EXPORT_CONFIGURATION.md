# 📊 Гибкая настройка экспорта - Руководство пользователя

## 🎯 Что нового?

Теперь команды `/export` и `/exportanalyze` имеют **интерактивный интерфейс** с удобным меню для настройки параметров экспорта!

Больше не нужно помнить синтаксис команд или вручную вводить даты - просто выбирайте нужные параметры из готовых пресетов!

---

## 🚀 Как использовать

### Шаг 1: Запуск экспорта

Отправьте команду с чатом:
```
/export https://t.me/channel
```

Или сначала команду, потом ссылку:
```
/export
(бот попросит ссылку)
https://t.me/channel
```

### Шаг 2: Выбор лимита сообщений

Появится меню с кнопками:

```
┌─────────────────────────────┐
│    📭 Все сообщения         │
├──────────────┬──────────────┤
│ 💯 100       │ 1️⃣K 1,000   │
├──────────────┼──────────────┤
│ 🔟K 10,000   │ 5️⃣0K 50,000 │
├──────────────┴──────────────┤
│    ✏️ Кастомный лимит       │
└─────────────────────────────┘
```

**Выберите один из пресетов** или нажмите "Кастомный лимит" и введите число (от 1 до 1,000,000).

### Шаг 3: Выбор периода

Появится меню выбора дат:

```
┌─────────────────────────────┐
│    📅 За все время          │
├──────────────┬──────────────┤
│ 7️⃣ 7 дней    │ 3️⃣0 30 дней │
├──────────────┼──────────────┤
│ 3️⃣ 3 месяца  │ 🗓 1 год     │
├──────────────┴──────────────┤
│    ✏️ Кастомная дата        │
└─────────────────────────────┘
```

**Выберите период** или нажмите "Кастомная дата" и введите дату начала в формате `ДД.ММ.ГГГГ` (например, `01.01.2024`).

### Шаг 4: Экспорт начался!

После выбора параметров бот автоматически начнет экспорт и покажет:

```
✅ Задача создана!

🆔 Задача: #123
📱 Чат: @channel
📅 Период: С 01.01.2024
📊 Лимит: 10,000 сообщений

⏳ Экспорт начнется в течение нескольких секунд.
Я отправлю уведомление когда экспорт завершится.
```

---

## 🎛 Доступные пресеты

### Лимиты сообщений:
- **Все сообщения** - без ограничений (может быть долго!)
- **100** - быстрый просмотр последних сообщений
- **1,000** - для небольших чатов
- **10,000** - оптимально для большинства случаев (по умолчанию)
- **50,000** - для крупных чатов
- **Кастомный** - любое число от 1 до 1,000,000

### Периоды времени:
- **За все время** - все сообщения с момента создания чата
- **7 дней** - последняя неделя
- **30 дней** - последний месяц
- **3 месяца** - последний квартал
- **1 год** - последний год
- **Кастомная дата** - начиная с указанной даты до сегодня

---

## 💡 Примеры использования

### Пример 1: Последние 1000 сообщений за последнюю неделю
```
/export @support_chat
→ Нажать "1️⃣K 1,000"
→ Нажать "7️⃣ 7 дней"
→ Готово!
```

### Пример 2: Все сообщения за все время
```
/export https://t.me/news_channel
→ Нажать "📭 Все сообщения"
→ Нажать "📅 За все время"
→ Готово!
```

### Пример 3: 5000 сообщений начиная с 15 июня 2024
```
/exportanalyze @my_chat
→ Нажать "✏️ Кастомный лимит"
→ Ввести: 5000
→ Нажать "✏️ Кастомная дата"
→ Ввести: 15.06.2024
→ Готово!
```

---

## 🎯 Преимущества нового интерфейса

✅ **Быстро** - не нужно искать синтаксис команд
✅ **Наглядно** - видите все доступные опции
✅ **Удобно** - выбор кнопками вместо набора текста
✅ **Гибко** - можно использовать пресеты или кастомные значения
✅ **Безопасно** - валидация введенных данных

---

## ⚠️ Важные примечания

1. **Кастомные даты**: указывайте в формате `ДД.ММ.ГГГГ` (например, `01.01.2024`)
2. **Дата не может быть в будущем**: проверяется автоматически
3. **Кастомный лимит**: от 1 до 1,000,000 сообщений
4. **Отмена**: используйте `/cancel` на любом шаге для отмены операции

---

## 🔧 Технические детали

### Поддерживаемые форматы дат:
- **Ручной ввод**: `ДД.ММ.ГГГГ` (например, `15.06.2024`)
- **ISO формат**: автоматически (используется внутри системы)

### Как работает фильтрация:
- **Лимит**: ограничивает количество загружаемых сообщений
- **Дата начала**: экспортируются только сообщения после указанной даты
- **Дата конца**: всегда текущий момент (можно расширить в будущем)

### Приоритет параметров:
1. Если указан лимит - экспорт остановится при достижении лимита
2. Если указана дата - экспорт остановится при достижении даты
3. Если оба параметра - остановка по первому достигнутому условию

---

## 📞 Поддержка

Если возникли вопросы:
1. Используйте `/help` для общей справки
2. Используйте `/status` для диагностики проблем
3. Убедитесь, что вы авторизованы через `/setup`

---

## 🎉 Готово!

Теперь вы можете настраивать экспорт именно так, как вам нужно, всего за несколько кликов!

**Попробуйте прямо сейчас:**
```
/export @telegram
```
